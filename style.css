/*
Theme Name:  Nano Design Build
Theme URI:   https://your-client-website.com/
Author:      Your Name
Author URI:  https://your-website.com/
Description: A custom, modern, and responsive theme for Nano Design Build.
Version:     1.0.0
License:     GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Tags:        custom-background, custom-logo, portfolio
Text Domain: nanodesignbuild
*/

/*--------------------------------------------------------------
>>> TABLE OF CONTENTS:
----------------------------------------------------------------
# Generic
# Layout
# Header & Footer
# Projects Grid (archive-project.php)
# Single Project (single-project.php)
# About (page-about.php)
--------------------------------------------------------------*/

/*--------------------------------------------------------------
# Generic
--------------------------------------------------------------*/
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 18px;
    line-height: 1.6;
    color: #333;
    background-color: #fdfdfd;
    margin: 0; /* This line removes the whitespace */
    padding: 0;
}

a {
    color: #1a1a1a;
    text-decoration: none;
    transition: color 0.2s ease-in-out;
}

a:hover {
    color: #888;
}

h1, h2, h3, h4, h5, h6 {
    font-family: "Garamond", "Times New Roman", serif;
    font-weight: 500;
    line-height: 1.2;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/*--------------------------------------------------------------
# Layout
--------------------------------------------------------------*/
.site-main {
    max-width: 1200px;
    margin: 4rem auto;
    padding: 0 2rem;
}

/*--------------------------------------------------------------
# Header & Footer
--------------------------------------------------------------*/

/* Footer (baseline) */
body > footer {
  text-align: center;
  padding: 2rem;
  border-top: 1px solid #eee;
  font-size: 14px;
  color: #999;
}

/* ---------------------------
   Header: defaults (ALL pages)
   --------------------------- */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: #fff;
  border-bottom: 1px solid rgba(0,0,0,.06);
  transition: background .25s ease, border-color .25s ease, box-shadow .25s ease, padding .25s ease;
}

/* Standard header row layout */
.nav-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px 24px; /* default size for EVERY non-front page */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
}

/* Brand + menu text inherit current colour */
.brand { display: inline-flex; align-items: center; text-decoration: none; color: inherit; }
.brand img { height: 36px; width: auto; }
.brand-text { font-weight: 700; letter-spacing: .02em; color: inherit; }

.nav-primary .menu { display: flex; gap: 28px; list-style: none; margin: 0; padding: 0; }
.nav-primary a {
  text-decoration: none; font-weight: 500; letter-spacing: .03em;
  text-transform: uppercase; font-size: 14px; line-height: 1;
  padding: 6px 0; border-bottom: 2px solid transparent;
  transition: color .2s ease, border-color .2s ease, opacity .2s ease;
  color: inherit;
}
.nav-primary a:hover { border-color: currentColor; }

/* Mobile */
.nav-toggle { display: none; background: none; border: 0; padding: 6px; color: inherit; }
.nav-toggle .nav-toggle-bar { display: block; width: 22px; height: 2px; margin: 4px 0; background: currentColor; }

@media (max-width: 900px) {
  .nav-toggle { display: inline-block; }
  .nav-primary {
    position: absolute; right: 24px; top: 64px;
    background: #fff; border: 1px solid rgba(0,0,0,.08); padding: 12px 18px; display: none;
    z-index: 3100;
  }
  .nav-primary .menu { flex-direction: column; gap: 12px; }
  .nav-primary.is-open { display: block; }
}

/* =========================================================
   FRONT PAGE ONLY (your helper adds .is-front to <body>)
   - No scaling. Only padding & background change on scroll.
   - Menu sits INSIDE the header row on the front page.
   ========================================================= */

/* Make the header overlay the hero on the front page */
.is-front .site-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  width: 100%;
  z-index: 2000;
  border-bottom-color: transparent;
  background: transparent;
  box-shadow: none;
}

/* Compact while hero is visible (just tighter padding) */
.is-front.home-hero .nav-inner {
  padding-top: 10px;
  padding-bottom: 10px;
  color: #fff;
}
.is-front.home-hero .site-header { background: transparent; box-shadow: none; }
.is-front.home-hero .brand,
.is-front.home-hero .brand .brand-text,
.is-front.home-hero .nav-primary a { color: #fff; }

/* Expanded after hero (full padding + readable bg) */
.is-front.home-below-hero .nav-inner {
  padding-top: 20px;
  padding-bottom: 20px;
  color: #111;
}
.is-front.home-below-hero .site-header {
  background: rgba(255,255,255,.95);
  border-bottom-color: rgba(0,0,0,.06);
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
.is-front.home-below-hero .brand,
.is-front.home-below-hero .brand .brand-text,
.is-front.home-below-hero .nav-primary a { color: #111; }

/* On the FRONT PAGE ONLY, ensure the menu lives inside the header row.
   (Prevents any global "fixed" nav rules from yanking it to the top-right.) */
.is-front .site-header .site-nav-minimal {
  position: static !important;
  top: auto !important;
  right: auto !important;
  z-index: auto !important;
}

/* Don’t let the hero overlay swallow clicks near edges */
.is-front .hero-overlay { pointer-events: none; }

/* Keep anchor jumps nice on all non-front pages */
body:not(.is-front) { scroll-padding-top: 72px; }


/*--------------------------------------------------------------
# Magazine Style Project Archive
--------------------------------------------------------------*/
.page-header {
    text-align: center;
    margin-bottom: 4rem;
}

.page-header .page-title {
    font-size: 52px;
    margin-bottom: 0.5rem;
}

.page-header .page-subtitle {
    font-size: 18px;
    color: #888;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.project-archive-list {
    border-top: 1px solid #eee;
}

.project-archive-item {
    border-bottom: 1px solid #eee;
}

.project-archive-link {
    display: grid;
    grid-template-columns: repeat(12, 1fr); /* 12-column grid */
    align-items: center;
    padding: 3rem 0;
    gap: 2rem;
}

.project-archive-image {
    grid-column: span 7; /* Image takes 7 columns */
    overflow: hidden;
}

.project-archive-image img {
    transition: transform 0.8s cubic-bezier(0.2, 1, 0.3, 1);
}

.project-archive-link:hover .project-archive-image img {
    transform: scale(1.05);
}

.project-archive-details {
    grid-column: span 5; /* Text takes 5 columns */
    padding-right: 2rem;
}

/* Alternating Layout: for every ODD item, reverse the order */
.project-archive-item:nth-child(odd) .project-archive-image {
    grid-column: span 7 / -1; /* Start at column 7, go to the end */
    grid-row: 1;
}

.project-archive-item:nth-child(odd) .project-archive-details {
    grid-column: 1 / span 5; /* Start at column 1, take up 5 */
    grid-row: 1;
    text-align: right;
    padding-left: 2rem;
    padding-right: 0;
}

.project-archive-details .project-title {
    font-size: 42px;
    line-height: 1.1;
    margin: 0 0 1rem 0;
    font-weight: normal;
}

.project-archive-details .project-excerpt {
    font-size: 16px;
    line-height: 1.5;
    color: #666;
    margin: 1rem 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-weight: 400;
}

.project-archive-details .project-location-tag {
    font-family: monospace;
    font-size: 14px;
    color: #888;
    text-transform: uppercase;
}

/* --- Responsive Mobile --- */
@media (max-width: 768px) {
    .project-archive-link {
        display: block; /* Stack everything vertically */
        padding: 2rem 0;
    }
    .project-archive-image {
        margin-bottom: 1rem;
    }
    .project-archive-item:nth-child(odd) .project-archive-details {
        text-align: left; /* Reset text alignment */
        padding-left: 0;
    }
}

/*--------------------------------------------------------------
# Single Project (single-project.php)
--------------------------------------------------------------*/
.single-project .entry-header {
    text-align: center;
    margin-bottom: 2rem;
}

.single-project .entry-title {
    font-size: 48px;
}

.single-project .post-thumbnail {
    margin-bottom: 2rem;
}

.single-project .entry-content {
    max-width: 800px;
    margin: 0 auto 2rem auto;
}

.single-project .project-meta {
    max-width: 800px;
    margin: 0 auto;
    border-top: 1px solid #eee;
    padding-top: 1.5rem;
    font-family: monospace;
    font-size: 16px;
    color: #555;
}

/*--------------------------------------------------------------
# Standard Pages (page-about.php, page-contact.php)
--------------------------------------------------------------*/
.site-main-standard {
    max-width: 800px;
    margin: 6rem auto;
    padding: 0 2rem;
}

.entry-header-standard {
    text-align: center;
    margin-bottom: 3rem;
}

.entry-title-standard {
    font-size: 52px;
}

.entry-content-standard {
    font-size: 20px;
    line-height: 1.7;
}

.static-contact-info {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
}

/*--------------------------------------------------------------
# Magazine Spread Single Project Layout (Sticky Image)
--------------------------------------------------------------*/

/* We need to remove margin from the body for this specific template */
.single-project body {
    margin: 0;
}

.full-page-project-grid {
    display: grid;
    grid-template-columns: 40% 60%; /* Adjust ratio as needed */
    align-items: start; /* Align items to the top */
}

/* Left Column Styling */
.project-content-scroll {
    padding: 3rem;
    /* We no longer need overflow or fixed height here */
}

.site-header-condensed {
    margin-bottom: 4rem;
}

.site-header-condensed h1 {
    font-size: 24px;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 0;
}

.project-content-scroll .entry-title {
    font-size: 52px;
    line-height: 1.1;
    margin-bottom: 2rem;
}

.project-content-scroll .entry-content {
    color: #555;
    margin-bottom: 2rem;
}

.project-content-scroll .project-meta {
    border-top: 1px solid #eee;
    padding-top: 1.5rem;
    margin-bottom: 4rem;
}

.project-meta .meta-label {
    display: block;
    font-family: monospace;
    font-size: 14px;
    text-transform: uppercase;
    color: #888;
    letter-spacing: 0.5px;
}

.project-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
}

.project-navigation a {
    font-family: monospace;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    max-width: 45%;
}


.site-footer-condensed {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
    font-size: 14px;
    color: #999;
}


/* Right Column Styling (The Magic Happens Here) */
.project-image-column {
    position: -webkit-sticky; /* For Safari */
    position: sticky;
    top: 0; /* Stick to the top of the viewport */
    height: 100vh; /* It should always be the full height of the screen */
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}


/* --- Responsive Mobile --- */
@media (max-width: 768px) {
    .full-page-project-grid {
        display: block; /* Revert to a normal block layout */
    }

    .project-image-column {
       position: static; /* Un-stick the image on mobile */
       height: 60vh; 
    }
}

/*--------------------------------------------------------------
# Homepage (Original Baseline)
--------------------------------------------------------------*/
.hero-video-section {
    position: relative;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: #fff;
    overflow: hidden;
    background-color: #111; /* Fallback color */
}

.hero-video-bg {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: translate(-50%, -50%);
    z-index: 1;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 2;
}

.hero-content {
    position: relative;
    z-index: 3;
    padding: 2rem;
}

.hero-title {
    font-size: 62px;
}

.hero-subtitle {
    font-size: 20px;
    font-weight: 300;
}

.homepage-projects {
    max-width: 1200px;
    margin: 4rem auto;
    padding: 0 2rem;
}

.section-title {
    text-align: center;
    font-size: 42px;
    margin-bottom: 3rem;
    font-weight: normal;
}

.section-link {
    text-align: center;
    margin-top: 3rem;
    display: flex;
    flex-direction: column; /* Stack items vertically */
    align-items: center;   /* Center items horizontally */
}

.section-link a {
    border: 1px solid #ccc;
    padding: 0.8rem 2rem;
    border-radius: 50px;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.section-link a:hover {
    background-color: #f5f5f5;
    border-color: #aaa;
}

/*--------------------------------------------------------------
# Minimalist Navigation
--------------------------------------------------------------*/
.site-nav-minimal {
    position: fixed;
    top: 2rem;
    right: 2rem;
    z-index: 1000; /* Ensure it's on top of everything */
}

.site-nav-minimal a {
    font-family: monospace;
    text-transform: uppercase;
    font-size: 14px;
    letter-spacing: 0.5px;
    color: #333;
    mix-blend-mode: difference; /* This makes the text invert color based on the background */
    font-weight: bold;
}

/*--------------------------------------------------------------
# Homepage Final Card Logo
--------------------------------------------------------------*/
.final-card-logo {
    width: 120px; /* Adjust size as needed */
    height: auto;
    margin-bottom: 2rem;
}

/*--------------------------------------------------------------
# About (Magazine) 
--------------------------------------------------------------*/

.about-page { --max: 1100px; --g: clamp(16px, 3vw, 40px); color: #111; }
.about-page img { display:block; width:100%; height:auto; }

/* Hero */
.about-hero { position: relative; display:grid; grid-template-columns: 1fr; }
.about-hero-media { margin:0; line-height:0; }
.about-hero-media img { width:100%; height: clamp(40vh, 62vh, 72vh); object-fit: cover; }
.about-hero-copy {
  max-width: var(--max);
  margin: calc(var(--g) * -1.25) auto 0;
  padding: clamp(16px, 3vw, 28px);
  background: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
  border-radius: 10px;
}
.about-hero-copy h1 { font-size: clamp(28px, 5vw, 48px); margin: 0 0 .25em; letter-spacing: .01em; }
.about-hero-copy .kicker { text-transform: uppercase; letter-spacing: .12em; opacity: .6; margin: 0 0 .25em; font-size: .85rem; }
.about-hero-copy .lede { font-size: clamp(16px, 2.2vw, 20px); line-height: 1.5; margin: .25em 0 0; }

/* Body (uses the page editor content) */
.about-body { max-width: var(--max); margin: calc(var(--g) * 1.5) auto; padding: 0 var(--g); }
.about-body.prose h2 { font-size: clamp(22px, 3vw, 28px); margin: 1.4em 0 .4em; }
.about-body.prose p { line-height: 1.7; margin: .8em 0; }
.about-body.prose ul { margin: .8em 0 .8em 1.25em; }

/* Process rows */
.about-process { max-width: var(--max); margin: calc(var(--g) * 2) auto; padding: 0 var(--g); display: grid; gap: calc(var(--g) * 1.25); }
.ap-row { display:grid; grid-template-columns: 1.2fr 1fr; gap: var(--g); align-items: center; }
.ap-row.reverse { grid-template-columns: 1fr 1.2fr; }
.ap-row.reverse .ap-text { order:2; }
.ap-row.reverse .ap-media { order:1; }
.ap-text h2 { margin: 0 0 .35em; font-size: clamp(20px, 2.6vw, 26px); }
.ap-text p { margin: 0; line-height: 1.65; }
.ap-media img { border-radius: 10px; box-shadow: 0 8px 26px rgba(0,0,0,.08); transition: transform .25s ease, opacity .25s ease; }
.ap-row:hover .ap-media img { transform: translateY(-2px) scale(1.01); opacity: .98; }

/* Stats band */
.about-stats { background: #fafafa; margin: calc(var(--g) * 2) 0; padding: calc(var(--g) * 1.25) var(--g); }
.about-stats .stats { max-width: var(--max); margin: 0 auto; padding:0; list-style: none; display:grid; grid-template-columns: repeat(3, 1fr); gap: var(--g); text-align:center; }
.about-stats .n { display:block; font-weight: 600; font-size: clamp(22px, 4vw, 34px); line-height: 1.1; }
.about-stats .l { display:block; opacity:.65; margin-top:.25em; }

/* === About → Partners === */
.about-partners { max-width: var(--max); margin: calc(var(--g) * 2) auto; padding: 0 var(--g); }
.about-partners .sec-title { font-size: clamp(22px, 3vw, 30px); margin: 0 0 0.8em; }

.partners-grid { display: grid; grid-template-columns: 1fr 1fr; gap: calc(var(--g) * 1.25); align-items: start; }
.partner { display: grid; grid-template-columns: 160px 1fr; gap: var(--g); background: #fff; border: 1px solid rgba(0,0,0,.06); border-radius: 12px; padding: clamp(14px, 2.2vw, 22px); box-shadow: 0 8px 24px rgba(0,0,0,.04); }
.partner-photo { margin: 0; align-self: start; }
.partner-photo img { width: 100%; aspect-ratio: 3/4; object-fit: cover; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
.partner-body { align-self: start; }
.partner-name { margin: 0 0 .15em; font-size: clamp(18px, 2.4vw, 22px); }
.partner-cred { margin: 0 0 .6em; opacity: .7; }
.partner-contact { margin-top: .75em; }
.partner-contact a { text-decoration: none; border-bottom: 1px solid currentColor; }

@media (max-width: 960px) {
  .partners-grid { grid-template-columns: 1fr; }
}
@media (max-width: 640px) {
  .partner { grid-template-columns: 100px 1fr; }
}


/* Collage */
.about-collage { max-width: var(--max); margin: calc(var(--g) * 2) auto calc(var(--g) * 3); padding: 0 var(--g); display:grid; gap: var(--g); grid-template-columns: 2fr 1fr; }
.about-collage figure:first-child { grid-row: 1 / span 2; }
.about-collage figure { margin:0; }
.about-collage img { border-radius: 10px; box-shadow: 0 8px 26px rgba(0,0,0,.06); }

/* Responsive */
@media (max-width: 900px) {
  .ap-row, .ap-row.reverse { grid-template-columns: 1fr; }
  .ap-row.reverse .ap-text, .ap-row.reverse .ap-media { order: initial; }
  .about-stats .stats { grid-template-columns: 1fr 1fr 1fr; }
  .about-collage { grid-template-columns: 1fr; }
}
@media (max-width: 640px) {
  .about-hero-copy { margin-top: calc(var(--g) * -0.6); padding: 16px 18px; }
  .about-stats .stats { grid-template-columns: 1fr; gap: 14px; }
}
@media (prefers-reduced-motion: reduce) {
  .ap-row:hover .ap-media img { transform:none; opacity:1; }
}

/* === Fix: keep menu INSIDE the header row on non-front pages === */
body:not(.is-front) .site-header .site-nav-minimal {
  position: static !important;
  top: auto !important;
  right: auto !important;
}

body:not(.is-front) .nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between; /* brand left, menu right */
  gap: 24px;
}

/* Ensure horizontal layout for the WP menu on non-front pages */
body:not(.is-front) .nav-primary .menu {
  display: flex;
  gap: 28px;
  list-style: none;
  margin: 0;
  padding: 0;
}

/* Front page: nav link colours over hero vs below hero */
.is-front.home-hero  .site-header .site-nav-minimal a,
.is-front.home-hero  .site-header .nav-primary a {
  color: #fff !important;
  mix-blend-mode: normal !important;
}

.is-front.home-below-hero .site-header .site-nav-minimal a,
.is-front.home-below-hero .site-header .nav-primary a {
  color: #111 !important;
  mix-blend-mode: normal !important;
}
