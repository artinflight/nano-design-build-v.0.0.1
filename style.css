/*
Theme Name:  Nano Design Build
Theme URI:   https://your-client-website.com/
Author:      Your Name
Author URI:  https://your-website.com/
Description: A custom, modern, and responsive theme for Nano Design Build.
Version:     1.0.0
License:     GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Tags:        custom-background, custom-logo, portfolio
Text Domain: nanodesignbuild
*/

/*--------------------------------------------------------------
>>> TABLE OF CONTENTS:
----------------------------------------------------------------
# Generic
# Layout
# Header & Footer
# Projects Grid (archive-project.php)
# Single Project (single-project.php)
# About (page-about.php)
--------------------------------------------------------------*/

/*--------------------------------------------------------------
# Generic
--------------------------------------------------------------*/
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 18px;
    line-height: 1.6;
    color: #333;
    background-color: #fdfdfd;
    margin: 0; /* This line removes the whitespace */
    padding: 0;
}

:root {
    --brand-accent: #ff931e;
}

a {
    color: #1a1a1a;
    text-decoration: none;
    transition: color 0.2s ease-in-out;
}

a:hover {
    color: #888;
}

h1, h2, h3, h4, h5, h6 {
    font-family: "Garamond", "Times New Roman", serif;
    font-weight: 500;
    line-height: 1.2;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/*--------------------------------------------------------------
# Logo
--------------------------------------------------------------*/

/* Base logo */
.brand-logo {
  display: block;
  height: 40px;
  width: auto;
}

/* Default: assume we are on a LIGHT/WHITE header background
   → show the coloured logo everywhere by default */
.brand-logo--light {
  display: block;
}
.brand-logo--dark {
  display: none;
}

/* FRONT PAGE HERO:
   While the hero is visible (.home-hero), the header is on
   a dark/overlay background → use the white logo instead. */
.is-front.home-hero .brand-logo--light {
  display: none;
}
.is-front.home-hero .brand-logo--dark {
  display: block;
}

/* Single project header: always use COLOUR logo (background is light #f8f7f3) */
body.single-project .site-header .brand-logo--light {
  display: block !important;
}
body.single-project .site-header .brand-logo--dark {
  display: none !important;
}


/*--------------------------------------------------------------
# Layout
--------------------------------------------------------------*/
.site-main {
    max-width: 1200px;
    margin: 4rem auto;
    padding: 0 2rem;
}

/*--------------------------------------------------------------
# Header & Footer
--------------------------------------------------------------*/

/* Footer (baseline) */
body > footer {
  text-align: center;
  padding: 2rem;
  border-top: 1px solid #eee;
  font-size: 14px;
  color: #999;
}

/*--------------------------------------------------------------
# Footer Layout
--------------------------------------------------------------*/

.site-footer {
  background: #0a0a0a;
  color: #e5e5e5;
  padding: 2.75rem 1.75rem 2.25rem;
  border-top: 1px solid #111;
}

.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.footer-grid {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  gap: 1.5rem clamp(1.75rem, 3vw, 2.75rem);
  align-items: center;
  text-align: left;
}
.footer-column { font-size: 14px; display: flex; flex-direction: column; gap: 0.65rem; }
.footer-column--brand { font-size: 14px; gap: 0.55rem; }
.footer-column--contact { justify-self: center; align-items: flex-start; }

.footer-logo {
  max-height: 32px;
  width: auto;
  display: block;
  margin: 0 0 0.5rem;
}

.footer-logo-link:hover { opacity: 0.85; }

.footer-tagline { margin: 0.75rem 0 0; color: #aaa; font-size: 13px; }
.footer-heading {
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: .12em;
  font-weight: 600;
  margin: 0 0 0.75rem;
  color: #f0f0f0;
}

.footer-contact {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 0.35rem;
}

.footer-contact__line { line-height: 1.5; color: #e5e5e5; }
.footer-contact__line a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px solid rgba(255,255,255,.2);
  padding-bottom: 2px;
}

.footer-contact__line a:hover { color: #fff; border-bottom-color: #fff; }

.footer-column--social { justify-self: end; }

.footer-social {
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: flex-end;
}

.footer-social__link {
  display: grid;
  place-items: center;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  border: 1px solid rgba(255,147,30,.35);
  background: rgba(255,147,30,.08);
  color: var(--brand-accent);
  text-decoration: none;
  transition: transform .15s ease, border-color .2s ease, background .2s ease;
}

.footer-social__link svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}

.footer-social__link:hover,
.footer-social__link:focus-visible {
  transform: translateY(-2px);
  border-color: rgba(255,255,255,.8);
  background: rgba(255,255,255,.12);
  color: #fff;
  outline: 2px solid rgba(255,255,255,.35);
  outline-offset: 2px;
}

/* Responsive footer */
@media (max-width: 900px) {
  .footer-grid {
    grid-template-columns: 1fr;
    text-align: center;
    width: 100%;
  }

  .footer-column--brand,
  .footer-column--contact,
  .footer-column--social {
    text-align: center;
    align-items: center;
  }

  .footer-logo {
    margin-left: auto;
    margin-right: auto;
  }

  .footer-contact {
    justify-items: center;
  }

  .footer-column--social { justify-self: center; }
}

.footer-copyright {
  margin-top: auto;
  font-size: 13px;
  color: #cfcfcf;
  display: inline-flex;
  align-items: baseline;
  gap: 0.35rem;
}

.footer-copyright__symbol { color: var(--brand-accent); font-weight: 600; }

/* ---------------------------
   Header: defaults (ALL pages)
   --------------------------- */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: #fff;
  border-bottom: 1px solid rgba(0,0,0,.06);
  transition: background .25s ease, border-color .25s ease, box-shadow .25s ease, padding .25s ease;
}

/* Standard header row layout */
.nav-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px 24px; /* default size for EVERY non-front page */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
}

/* Brand + menu text inherit current colour */
.brand { display: inline-flex; align-items: center; text-decoration: none; color: inherit; }
.brand img { height: 36px; width: auto; }
.brand-text { font-weight: 700; letter-spacing: .02em; color: inherit; }

.nav-primary .menu { display: flex; gap: 28px; list-style: none; margin: 0; padding: 0; }
.nav-primary a {
  text-decoration: none;
  font-weight: 500;
  letter-spacing: .02em;
  text-transform: none;        /* sentence/title case instead of ALL CAPS */
  font-size: 16px;
  line-height: 1.3;
  padding: 8px 0;
  border-bottom: 2px solid transparent;
  transition: color .2s ease, border-color .2s ease, opacity .2s ease;
  color: inherit;
}

.nav-primary a:hover { border-color: currentColor; }

/* Mobile */
.nav-toggle { display: none; background: none; border: 0; padding: 6px; color: inherit; }
.nav-toggle .nav-toggle-bar { display: block; width: 22px; height: 2px; margin: 4px 0; background: currentColor; }

@media (max-width: 900px) {
  .nav-toggle {
    display: inline-block;
    background: none;
    border: 0;
    padding: 6px;
    color: inherit;
  }

  /* Mobile menu panel */
  .nav-primary {
    position: absolute;
    left: 16px;
    right: 16px;
    top: 64px;
    background: rgba(0, 0, 0, 0.94);
    border-radius: 10px;
    padding: 16px 20px 18px;
    z-index: 3100;

    /* animation */
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition:
      max-height 0.25s ease,
      opacity 0.25s ease,
      transform 0.25s ease;
  }

  /* When menu is open (class added by your JS) */
  .nav-primary.is-open {
    max-height: 320px; /* enough for your links */
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .nav-primary .menu {
    flex-direction: column;
    gap: 14px;
  }

  .nav-primary .menu > li > a {
    color: #fff;
    font-size: 16px;
    text-transform: none;
    letter-spacing: .02em;
  }
}



/* =========================================================
   FRONT PAGE ONLY (your helper adds .is-front to <body>)
   - No scaling. Only padding & background change on scroll.
   - Menu sits INSIDE the header row on the front page.
   ========================================================= */

/* Make the header overlay the hero on the front page */
.is-front .site-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  width: 100%;
  z-index: 2000;
  border-bottom-color: transparent;
  background: transparent;
  box-shadow: none;
}

/* Compact while hero is visible (just tighter padding) */
.is-front.home-hero .nav-inner {
  padding-top: 33px;
  padding-bottom: 33px;
  color: #fff;
}
.is-front.home-hero .site-header { background: transparent; box-shadow: none; }
.is-front.home-hero .brand,
.is-front.home-hero .brand .brand-text,
.is-front.home-hero .nav-primary a { color: #fff; }

/* Expanded after hero (full padding + readable bg) */
.is-front.home-below-hero .nav-inner {
  padding-top: 20px;
  padding-bottom: 20px;
  color: #111;
}
.is-front.home-below-hero .site-header {
  background: rgba(255,255,255,.95);
  border-bottom-color: rgba(0,0,0,.06);
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
.is-front.home-below-hero .brand,
.is-front.home-below-hero .brand .brand-text,
.is-front.home-below-hero .nav-primary a { color: #111; }

/* On the FRONT PAGE ONLY, ensure the menu lives inside the header row.
   (Prevents any global "fixed" nav rules from yanking it to the top-right.) */
.is-front .site-header .site-nav-minimal {
  position: static !important;
  top: auto !important;
  right: auto !important;
  z-index: auto !important;
}

/* Don’t let the hero overlay swallow clicks near edges */
.is-front .hero-overlay { pointer-events: none; }

/* Keep anchor jumps nice on all non-front pages */
body:not(.is-front) { scroll-padding-top: 72px; }


/*--------------------------------------------------------------
# Magazine Style Project Archive
--------------------------------------------------------------*/
.page-header {
    text-align: center;
    margin-bottom: 4rem;
}

.page-header .page-title {
    font-size: 52px;
    margin-bottom: 0.5rem;
}

.page-header .page-subtitle {
    font-size: 18px;
    color: #888;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.project-archive-list {
    border-top: 1px solid #eee;
}

.project-archive-item {
    border-bottom: 1px solid #eee;
}

.project-archive-link {
    display: grid;
    grid-template-columns: repeat(12, 1fr); /* 12-column grid */
    align-items: center;
    padding: 3rem 0;
    gap: 2rem;
}

.project-archive-image {
    grid-column: span 7; /* Image takes 7 columns */
    overflow: hidden;
}

.project-archive-image img {
    transition: transform 0.8s cubic-bezier(0.2, 1, 0.3, 1);
}

.project-archive-link:hover .project-archive-image img {
    transform: scale(1.05);
}

.project-archive-details {
    grid-column: span 5; /* Text takes 5 columns */
    padding-right: 2rem;
}

/* Alternating Layout: for every ODD item, reverse the order */
.project-archive-item:nth-child(odd) .project-archive-image {
    grid-column: span 7 / -1; /* Start at column 7, go to the end */
    grid-row: 1;
}

.project-archive-item:nth-child(odd) .project-archive-details {
    grid-column: 1 / span 5; /* Start at column 1, take up 5 */
    grid-row: 1;
    text-align: right;
    padding-left: 2rem;
    padding-right: 0;
}

.project-archive-details .project-title {
    font-size: 42px;
    line-height: 1.1;
    margin: 0 0 1rem 0;
    font-weight: normal;
}

.project-archive-details .project-excerpt {
    font-size: 16px;
    line-height: 1.5;
    color: #666;
    margin: 1rem 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-weight: 400;
}

.project-archive-details .project-location-tag {
    font-family: monospace;
    font-size: 14px;
    color: #888;
    text-transform: uppercase;
}

/* --- Responsive Mobile --- */
@media (max-width: 768px) {
    .project-archive-link {
        display: block; /* Stack everything vertically */
        padding: 2rem 0;
    }
    .project-archive-image {
        margin-bottom: 1rem;
    }
    .project-archive-item:nth-child(odd) .project-archive-details {
        text-align: left; /* Reset text alignment */
        padding-left: 0;
    }
}

/* Projects archive: make header 50% width on large screens */
.post-type-archive-project .page-header{
  margin: 0 auto 32px;          /* keep it centered; adjust bottom space as needed */
  padding: 0 24px;
}

@media (min-width: 1000px){
  .post-type-archive-project .page-header{
    width: 50%;
    max-width: 72ch;            /* guards against super wide monitors */
  }
  .post-type-archive-project .page-header .page-subtitle{
    line-height: 1.6;
  }
}

/*--------------------------------------------------------------
# Single Project (single-project.php)
--------------------------------------------------------------*/
.single-project .entry-header {
    text-align: center;
    margin-bottom: 2rem;
}

.single-project .entry-title {
    font-size: 48px;
}

.single-project .post-thumbnail {
    margin-bottom: 2rem;
}

.single-project .entry-content {
    max-width: 800px;
    margin: 0 auto 2rem auto;
}

.single-project .project-meta {
    max-width: 800px;
    margin: 0 auto;
    border-top: 1px solid #eee;
    padding-top: 1.5rem;
    font-family: monospace;
    font-size: 16px;
    color: #555;
}

/*--------------------------------------------------------------
# Standard Pages (page-about.php, page-contact.php)
--------------------------------------------------------------*/
.site-main-standard {
    max-width: 960px;
    margin: 5.5rem auto;
    padding: 0 2rem;
}

.entry-header-standard {
    text-align: center;
    margin-bottom: 2.5rem;
}

.entry-title-standard {
    font-size: clamp(32px, 5vw, 48px);
    letter-spacing: .01em;
    margin-bottom: 0.35em;
}

.entry-header-standard .lede {
    font-size: clamp(16px, 2.4vw, 20px);
    color: #444;
    line-height: 1.6;
    margin: .5rem auto 0;
    max-width: 52ch;
}

.entry-content-standard {
    font-size: 20px;
    line-height: 1.7;
}

.static-contact-info {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
}

/* Contact page */
.page-contact .contact-hero { text-align:center; margin-bottom: 1.5rem; padding: 0 1rem; }
.page-contact .contact-section { display:flex; justify-content:center; }
.page-contact .contact-form{
  width: min(760px, 100%);
  display:grid; gap:18px;
  padding: 0 16px;
}
.page-contact .field label{display:block;font-size:14px;letter-spacing:.02em;margin:0 0 .35rem;color:#333}
.page-contact .field input,.page-contact .field textarea{
  width:100%;border:1px solid #ddd;border-radius:10px;padding:12px 14px;font:inherit;outline:0;
  transition:border-color .15s ease, box-shadow .15s ease; background:#fff;
}
.page-contact .field input:focus,.page-contact .field textarea:focus{
  border-color:#888; box-shadow:0 0 0 3px rgba(0,0,0,.06)
}
.page-contact .btn{
  appearance:none;border:1px solid #111;background:#111;color:#fff;border-radius:999px;
  padding:10px 18px;font-size:14px;letter-spacing:.08em;text-transform:uppercase;cursor:pointer
}
.page-contact .btn:hover{background:#000}
.page-contact .opt{opacity:.6;font-weight:400}
.page-contact .small{font-size:12px;color:#777}
.page-contact .note{margin:.25rem 0 0}
.page-contact .submit-state{min-height:1.25em;font-size:14px;color:#555}
.page-contact .hp{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}

.page-contact .studio-panel{margin:48px auto 32px; padding:0 16px;}
.page-contact .studio-card{
  max-width: 960px; margin: 0 auto;
  background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:16px;
  box-shadow: 0 12px 28px rgba(0,0,0,.06);
  padding: clamp(18px, 3.5vw, 28px);
}

.page-contact .studio-eyebrow{
  font-size:12px; letter-spacing:.14em; text-transform:uppercase; opacity:.6; margin:0 0 12px;
}

.page-contact .studio-layout{
  display:grid; gap: clamp(16px, 3vw, 28px);
  grid-template-columns: 2fr 1fr;
}
@media (max-width: 900px){
  .page-contact .studio-layout{ grid-template-columns: 1fr; }
}

.page-contact .studio-col--about{min-width:0;}
.page-contact .studio-name{
  font-size: clamp(18px, 2.2vw, 22px);
  font-weight: 700; letter-spacing:.01em; margin: 0 0 6px;
  hyphens:none; word-break: normal;
}
.page-contact .studio-address{
  margin:0; font-style: normal; color:#333; line-height:1.6;
  white-space: normal;
}

.page-contact .studio-col--contact{display:grid; gap:10px; align-content:start;}
.page-contact .studio-line{
  display:flex; align-items:baseline; justify-content:space-between;
  gap: 16px; padding:10px 12px;
  border:1px solid rgba(0,0,0,.06); border-radius:12px; background:#fff;
  text-decoration:none; color:inherit;
}
.page-contact .studio-line:hover{box-shadow:0 6px 18px rgba(0,0,0,.06)}
.page-contact .studio-label{
  font-size:12px; letter-spacing:.12em; text-transform:uppercase; opacity:.65;
}
.page-contact .studio-value{
  font-weight:600; white-space:nowrap; /* no phone/email wrapping */
  border-bottom: 1px solid rgba(0,0,0,.12);
}

/* Alerts */
.page-contact .contact-alert{border-radius:8px;padding:10px 12px;margin:0 auto 16px; width:min(760px,100%)}
.page-contact .contact-success{background:#f0fff4;border:1px solid #b6f0c3;color:#135d2d}
.page-contact .contact-error{background:#fff5f5;border:1px solid #ffc9c9;color:#7a1c1c}

/*--------------------------------------------------------------
# Magazine Spread Single Project Layout (Sticky Image)
--------------------------------------------------------------*/

/* We need to remove margin from the body for this specific template */
.single-project body {
    margin: 0;
}


.full-page-project-grid {
    display: grid;
    grid-template-columns: minmax(0, 45%) minmax(0, 55%);
    min-height: 100vh;
    width: 100%;
    box-sizing: border-box;
}

/* Left Column Styling */
.project-image-column {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    height: 100vh;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    min-width: 0;
}

/* Right Column Styling */
.project-content-scroll {
    padding: 3.5rem 4rem 4rem;
    background: #f8f7f3;
    border-left: 1px solid rgba(17, 17, 17, 0.08);
    min-height: 100vh;
    width: 100%;
    box-sizing: border-box;
    min-width: 0;
}

.site-header-condensed {
    margin-bottom: 4rem;
}

.site-header-condensed h1 {
    font-size: 24px;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin: 0;
}

.project-content-scroll .entry-title {
    font-size: clamp(36px, 4vw, 60px);
    line-height: 1.05;
    margin-bottom: 2rem;
}

.project-content-scroll .project-meta {
    border-top: 1px solid rgba(17, 17, 17, 0.15);
    padding-top: 1.25rem;
    margin: 3rem 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem 2rem;
}

.project-meta .meta-label {
    display: block;
    font-family: monospace;
    font-size: 14px;
    text-transform: uppercase;
    color: #888;
    letter-spacing: 0.5px;
}

.project-archive-cta {
    margin: 3rem 0 0;
    padding-top: 2.5rem;
    border-top: 1px solid rgba(17, 17, 17, 0.15);
}

.project-archive-cta__link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-family: "Space Grotesk", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 15px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: #111;
    text-decoration: none;
    padding-bottom: 0.35rem;
    border-bottom: 2px solid currentColor;
    transition: color 0.2s ease, gap 0.2s ease;
}

.project-archive-cta__link:hover,
.project-archive-cta__link:focus-visible {
    color: #b85d29;
    gap: 0.65rem;
}

.project-archive-cta__link span[aria-hidden="true"] {
    font-size: 18px;
}

.project-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
}

.project-navigation a {
    font-family: monospace;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    max-width: 45%;
}


.site-footer-condensed {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
    font-size: 14px;
    color: #999;
}


/* Right Column Styling (The Magic Happens Here) */
.project-gallery {
    column-count: 2;
    column-gap: 2rem;
}

.project-gallery-item {
    break-inside: avoid;
    margin-bottom: 2rem;
    background: #fff;
    box-shadow: 0 12px 30px rgba(15, 15, 15, 0.08);
    border-radius: 8px;
    overflow: hidden;
}

.project-gallery-link {
    display: block;
    position: relative;
}

.project-gallery-link::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.08);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.project-gallery-link:focus-visible::after,
.project-gallery-link:hover::after {
    opacity: 1;
}

.project-gallery-item img {
    width: 100%;
    display: block;
}

.project-gallery-item figcaption {
    padding: 0.85rem 1.1rem 1.1rem;
    font-size: 14px;
    color: #555;
    letter-spacing: 0.01em;
}

.project-gallery-empty {
    font-size: 16px;
    font-style: italic;
    color: #777;
}

.project-lightbox {
    position: fixed;
    inset: 0;
    background: rgba(8, 8, 8, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    z-index: 9999;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
}

.project-lightbox.is-active {
    opacity: 1;
    pointer-events: auto;
}

.project-lightbox img {
    max-width: min(90vw, 1200px);
    max-height: 90vh;
    width: auto;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
}

.project-lightbox__close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    color: #fff;
    font-size: 2rem;
    width: 3rem;
    height: 3rem;
    border-radius: 999px;
    cursor: pointer;
    line-height: 1;
}

.project-lightbox__close:hover,
.project-lightbox__close:focus-visible {
    background: rgba(255, 255, 255, 0.3);
}

body.lightbox-open {
    overflow: hidden;
}

/* --- Responsive Mobile --- */
@media (max-width: 900px) {
    .full-page-project-grid {
        grid-template-columns: 1fr;
    }

    .project-image-column {
        position: static;
        height: 55vh;
    }

    .project-content-scroll {
        border-left: none;
        padding: 2.5rem 1.5rem 3rem;
    }

    .project-gallery {
        column-count: 1;
    }
}

/*--------------------------------------------------------------
# Homepage (Original Baseline)
--------------------------------------------------------------*/
.hero-video-section {
    position: relative;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: #fff;
    overflow: hidden;
    background-color: #111; /* Fallback color */
}

.hero-video-bg {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: translate(-50%, -50%);
    z-index: 1;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 2;
}

.hero-content {
    position: relative;
    z-index: 3;
    padding: 2rem;
}

.hero-title {
    font-size: 62px;
}

.hero-subtitle {
    font-size: 20px;
    font-weight: 300;
}

.homepage-projects {
    max-width: 1200px;
    margin: 4rem auto;
    padding: 0 2rem;
}

.section-title {
    text-align: center;
    font-size: 42px;
    margin-bottom: 3rem;
    font-weight: normal;
}

.section-link {
    text-align: center;
    margin-top: 3rem;
    display: flex;
    flex-direction: column; /* Stack items vertically */
    align-items: center;   /* Center items horizontally */
}

.section-link a {
    border: 1px solid #ccc;
    padding: 0.8rem 2rem;
    border-radius: 50px;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.section-link a:hover {
    background-color: #f5f5f5;
    border-color: #aaa;
}

/*--------------------------------------------------------------
# Minimalist Navigation
--------------------------------------------------------------*/
.site-nav-minimal {
    position: fixed;
    top: 2rem;
    right: 2rem;
    z-index: 1000; /* Ensure it's on top of everything */
}

/*.site-nav-minimal a {
    font-family: monospace;
    text-transform: uppercase;
    font-size: 14px;
    letter-spacing: 0.5px;
    color: #333;
    mix-blend-mode: difference; /* This makes the text invert color based on the background */
   /* font-weight: bold;
}*/

/*--------------------------------------------------------------
# Homepage Final Card Logo
--------------------------------------------------------------*/
.final-card-logo {
    width: 120px; /* Adjust size as needed */
    height: auto;
    margin-bottom: 2rem;
}

/*--------------------------------------------------------------
# About (Magazine) 
--------------------------------------------------------------*/

.about-page { --max: 1100px; --g: clamp(16px, 3vw, 40px); color: #111; }
.about-page img { display:block; width:100%; height:auto; }

/* Hero */
.about-hero { position: relative; display:grid; grid-template-columns: 1fr; }
.about-hero-media { margin:0; line-height:0; }
.about-hero-media img { width:100%; height: clamp(40vh, 62vh, 72vh); object-fit: cover; }
.about-hero-copy {
  max-width: var(--max);
  margin: calc(var(--g) * -1.25) auto 0;
  padding: clamp(16px, 3vw, 28px);
  background: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
  border-radius: 10px;
}
.about-hero-copy h1 { font-size: clamp(28px, 5vw, 48px); margin: 0 0 .25em; letter-spacing: .01em; }
.about-hero-copy .kicker { text-transform: uppercase; letter-spacing: .12em; opacity: .6; margin: 0 0 .25em; font-size: .85rem; }
.about-hero-copy .lede { font-size: clamp(16px, 2.2vw, 20px); line-height: 1.5; margin: .25em 0 0; }

/* Body (uses the page editor content) */
.about-body { max-width: var(--max); margin: calc(var(--g) * 1.5) auto; padding: 0 var(--g); }
.about-body.prose h2 { font-size: clamp(22px, 3vw, 28px); margin: 1.4em 0 .4em; }
.about-body.prose p { line-height: 1.7; margin: .8em 0; }
.about-body.prose ul { margin: .8em 0 .8em 1.25em; }

/* Process rows */
.about-process { max-width: var(--max); margin: calc(var(--g) * 2) auto; padding: 0 var(--g); display: grid; gap: calc(var(--g) * 1.25); }
.ap-row { display:grid; grid-template-columns: 1.2fr 1fr; gap: var(--g); align-items: center; }
.ap-row.reverse { grid-template-columns: 1fr 1.2fr; }
.ap-row.reverse .ap-text { order:2; }
.ap-row.reverse .ap-media { order:1; }
.ap-text h2 { margin: 0 0 .35em; font-size: clamp(20px, 2.6vw, 26px); }
.ap-text p { margin: 0; line-height: 1.65; }
.ap-media img { border-radius: 10px; box-shadow: 0 8px 26px rgba(0,0,0,.08); transition: transform .25s ease, opacity .25s ease; }
.ap-row:hover .ap-media img { transform: translateY(-2px) scale(1.01); opacity: .98; }

/* Stats band */
.about-stats { background: #fafafa; margin: calc(var(--g) * 2) 0; padding: calc(var(--g) * 1.25) var(--g); }
.about-stats .stats { max-width: var(--max); margin: 0 auto; padding:0; list-style: none; display:grid; grid-template-columns: repeat(3, 1fr); gap: var(--g); text-align:center; }
.about-stats .n { display:block; font-weight: 600; font-size: clamp(22px, 4vw, 34px); line-height: 1.1; }
.about-stats .l { display:block; opacity:.65; margin-top:.25em; }

/* === About → Partners === */
.about-partners { max-width: var(--max); margin: calc(var(--g) * 2) auto; padding: 0 var(--g); }
.about-partners .sec-title { font-size: clamp(22px, 3vw, 30px); margin: 0 0 0.8em; }

.partners-grid { display: grid; grid-template-columns: 1fr 1fr; gap: calc(var(--g) * 1.25); align-items: start; }
.partner { display: grid; grid-template-columns: 160px 1fr; gap: var(--g); background: #fff; border: 1px solid rgba(0,0,0,.06); border-radius: 12px; padding: clamp(14px, 2.2vw, 22px); box-shadow: 0 8px 24px rgba(0,0,0,.04); }
.partner-photo { margin: 0; align-self: start; }
.partner-photo img { width: 100%; aspect-ratio: 3/4; object-fit: cover; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
.partner-body { align-self: start; }
.partner-name { margin: 0 0 .15em; font-size: clamp(18px, 2.4vw, 22px); }
.partner-cred { margin: 0 0 .6em; opacity: .7; }
.partner-contact { margin-top: .75em; }
.partner-contact a { text-decoration: none; border-bottom: 1px solid currentColor; }

@media (max-width: 960px) {
  .partners-grid { grid-template-columns: 1fr; }
}
@media (max-width: 640px) {
  .partner { grid-template-columns: 100px 1fr; }
}


/* Collage */
.about-collage { max-width: var(--max); margin: calc(var(--g) * 2) auto calc(var(--g) * 3); padding: 0 var(--g); display:grid; gap: var(--g); grid-template-columns: 2fr 1fr; }
.about-collage figure:first-child { grid-row: 1 / span 2; }
.about-collage figure { margin:0; }
.about-collage img { border-radius: 10px; box-shadow: 0 8px 26px rgba(0,0,0,.06); }

/* Responsive */
@media (max-width: 900px) {
  .ap-row, .ap-row.reverse { grid-template-columns: 1fr; }
  .ap-row.reverse .ap-text, .ap-row.reverse .ap-media { order: initial; }
  .about-stats .stats { grid-template-columns: 1fr 1fr 1fr; }
  .about-collage { grid-template-columns: 1fr; }
}
@media (max-width: 640px) {
  .about-hero-copy { margin-top: calc(var(--g) * -0.6); padding: 16px 18px; }
  .about-stats .stats { grid-template-columns: 1fr; gap: 14px; }
}
@media (prefers-reduced-motion: reduce) {
  .ap-row:hover .ap-media img { transform:none; opacity:1; }
}

/* === Fix: keep menu INSIDE the header row on non-front pages === */
body:not(.is-front) .site-header .site-nav-minimal {
  position: static !important;
  top: auto !important;
  right: auto !important;
}

body:not(.is-front) .nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between; /* brand left, menu right */
  gap: 24px;
}

/* Ensure horizontal layout for the WP menu on non-front pages */
body:not(.is-front) .nav-primary .menu {
  display: flex;
  gap: 28px;
  list-style: none;
  margin: 0;
  padding: 0;
}

/* Front page: nav link colours over hero vs below hero */
.is-front.home-hero  .site-header .site-nav-minimal a,
.is-front.home-hero  .site-header .nav-primary a {
  color: #fff !important;
  mix-blend-mode: normal !important;
}

.is-front.home-below-hero .site-header .site-nav-minimal a,
.is-front.home-below-hero .site-header .nav-primary a {
  color: #111 !important;
  mix-blend-mode: normal !important;
}

/* ------------------------------------------------------------
   Recognitions archive (card grid)
   ------------------------------------------------------------ */

.recognitions-archive { background: #f9f9f9; }
.recognitions-wrap {
  max-width: 1120px;
  margin: 0 auto;
  padding: clamp(18px, 3vw, 32px) 24px clamp(36px, 4vw, 48px);
}
.recognitions-wrap .eyebrow { text-transform: uppercase; letter-spacing: .14em; color: #666; margin: 0 0 8px; }
.recognitions-wrap .journal-title { margin: 0 0 10px; }
.recognitions-wrap .journal-lede { margin: 0 0 18px; color: #444; line-height: 1.6; }

.recognitions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(16px, 3vw, 28px);
  margin-top: clamp(18px, 3vw, 26px);
}

.recognition-card {
  background: #fff;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,.06);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

.recognition-card__media {
  margin: 0;
  line-height: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.04), rgba(0,0,0,.02));
  display: flex;
  align-items: center;
  justify-content: center;
  height: clamp(340px, 32vw, 420px);
  overflow: hidden;
  border-radius: inherit;
}

.recognition-card__media img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.recognition-card__media img[src$=".svg"],
.recognition-card__media img[src$=".SVG"] {
  width: auto;
  height: auto;
  max-width: 78%;
  max-height: 78%;
  object-fit: contain;
}

.recognition-card__body {
  padding: clamp(14px, 2vw, 20px) clamp(14px, 2.6vw, 22px);
  display: grid;
  gap: 0.35rem;
}

.recognition-card .kicker { text-transform: uppercase; letter-spacing: .12em; font-size: 12px; color: #666; }
.recognition-card .entry-title { margin: 0; font-size: clamp(18px, 2.3vw, 22px); }
.recognition-card .entry-excerpt { color: #333; line-height: 1.6; }

@media (max-width: 780px) {
  .recognition-card__media {
    height: clamp(270px, 70vw, 340px);
  }
}

/* ------------------------------------------------------------
   JOURNAL (CPT) — vertical timeline (scoped + tidy)
   ------------------------------------------------------------ */

/* Page container (keep site width) */
.post-type-archive-journal .site-main {
  max-width: 1120px;            /* match the rest of the site */
  margin: 0 auto;
  padding: clamp(18px, 3vw, 32px) 24px;
}

/* Timeline root + rail */
.post-type-archive-journal :is(.timeline, .journal-timeline) {
  --rail-x: 56px;                        /* rail from container left */
  --left-col: calc(var(--rail-x) * 2);   /* width of date+dot column */
  position: relative;
  list-style: none;
  padding: 0;
  margin: 0;
}
.post-type-archive-journal :is(.timeline, .journal-timeline)::before {
  content: "";
  position: absolute;
  left: var(--rail-x);
  top: 0;
  bottom: 0;
  width: 2px;
  background: rgba(0,0,0,.08);
}

/* Every journal item is a grid row (no display:contents) */
.post-type-archive-journal :is(.timeline > li, .journal-timeline > li) {
  display: grid !important;
  grid-template-columns: var(--left-col) 1fr !important;
  column-gap: clamp(18px, 3vw, 32px);
  align-items: start;
  position: relative;               /* anchor for .dot */
  margin: clamp(12px, 2vw, 18px) 0;
}

/* Date label (left column) */
.post-type-archive-journal :is(.timeline > li > :is(.time, time, .jt-date, .timeline-date, .posted-on),
.journal-timeline > li > :is(.time, time, .jt-date, .timeline-date, .posted-on)) {
  grid-column: 1 !important;
  margin: 6px 0 0 !important;       /* sits just below the dot */
  padding: 0 !important;
  color: rgba(0,0,0,.55);
  font-size: 13px;
  letter-spacing: .06em;
}

/* One dot per item, centered on the rail */
.post-type-archive-journal :is(.timeline .dot, .journal-timeline .dot) {
  position: absolute;
  left: calc(var(--rail-x) - 5px);   /* 10px dot → -5px to center */
  top: .45rem;                       /* tweak to taste */
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #111;
  box-shadow: 0 0 0 3px #fff;
  z-index: 2;
}

/* Card (right column) */
.post-type-archive-journal :is(.timeline, .journal-timeline) > li > :is(.card, article, .timeline-card) {
  grid-column: 2 !important;
  background: #fff;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,.05);
  padding: clamp(14px, 2.2vw, 22px);
  display: grid;
  grid-template-columns: 280px 1fr;      /* thumb / copy */
  gap: clamp(12px, 2vw, 20px);
}

/* Ensure two columns even if legacy classes exist */
.post-type-archive-journal :is(.timeline > li > article, .journal-timeline > li > article) {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: clamp(12px, 2vw, 20px);
}

.post-type-archive-journal :is(.timeline > li > article .media, .journal-timeline > li > article .media) { grid-column: 1; }
.post-type-archive-journal :is(.timeline > li > article .body, .journal-timeline > li > article .body) { grid-column: 2; }

@supports (selector(:has(.x))) {
  .post-type-archive-journal :is(.timeline > li > article:not(:has(.media)),
  .journal-timeline > li > article:not(:has(.media)))::before {
    content: "";
    grid-column: 1;
  }
  .post-type-archive-journal :is(.timeline > li > article:not(:has(.media)) .body,
  .journal-timeline > li > article:not(:has(.media)) .body) {
    grid-column: 2;
  }
}

/* Media: photos fill the box, logos center without cropping */
.post-type-archive-journal :is(.timeline, .journal-timeline) .media {
  position: relative;
  aspect-ratio: 3 / 4;           /* portrait so tall photos aren’t cropped weirdly */
  border-radius: 10px;
  overflow: hidden;
  display: flex;                  /* used for centering SVGs */
  align-items: center;
  justify-content: center;
  background: #fff;               /* clean backdrop for logos */
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media img {
  display: block;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media img:not([src$=".svg"]) {
  position: absolute;             /* ignore flex centering */
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media img[src$=".svg"] {
  position: static;               /* use flex centering from the box */
  width: 75%;                     /* logo width */
  height: auto;
  max-height: 80%;                /* don’t get taller than the box */
  object-fit: contain;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media img[src*="nano.svg"] {
  width: auto;                    /* override the 75% width rule */
  height: 65%;                    /* requested scale */
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media:has(img[src$=".svg"]) {
  aspect-ratio: auto;        /* stop locking the box height */
  height: auto;
  padding: 8px 0;            /* gentle vertical breathing room for logos */
  display: flex;
  align-items: center;
  justify-content: center;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media:has(img[src$=".svg"]) img {
  position: static;          /* ignore the absolute full-bleed rules */
  width: 75%;
  height: auto;
  max-height: 80%;
  object-fit: contain;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .media:has(img[src*="nano.svg"]) img {
  width: auto;
  height: 65%;
}

/* Type */
.post-type-archive-journal :is(.timeline, .journal-timeline) :is(h2, h3, .entry-title) {
  font-size: clamp(20px, 2.4vw, 26px);
  line-height: 1.2;
  margin: 2px 0 6px;
  letter-spacing: .01em;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) :is(p, .entry-content p) {
  margin: 0 0 10px;
  color: #333;
  line-height: 1.62;
  max-width: 66ch;
}

.post-type-archive-journal :is(.timeline, .journal-timeline) .journal-sources {
  margin-top: 4px;
  font-size: 14px;
  color: #444;
}
.post-type-archive-journal :is(.timeline, .journal-timeline) .journal-sources a {
  text-decoration: none;
  border-bottom: 1px solid rgba(0,0,0,.15);
}
.post-type-archive-journal :is(.timeline, .journal-timeline) .journal-sources a:hover {
  border-color: currentColor;
}

/* Mobile */
@media (max-width: 780px) {
  .post-type-archive-journal :is(.timeline, .journal-timeline) {
    --rail-x: 12px;
    --left-col: 24px;
  }
  .post-type-archive-journal :is(.timeline > li, .journal-timeline > li) {
    grid-template-columns: var(--left-col) 1fr !important;
    margin: clamp(12px, 3vw, 20px) 0;
  }
  .post-type-archive-journal :is(.timeline, .journal-timeline) > li > :is(.card, article, .timeline-card) {
    grid-template-columns: 1fr;
  }
  .post-type-archive-journal :is(.timeline, .journal-timeline) > li > :is(.card, article, .timeline-card) > .media {
    grid-row: 1;
  }
  .post-type-archive-journal :is(.timeline, .journal-timeline) > li > :is(.card, article, .timeline-card) > .body {
    grid-row: 2;
  }
  .post-type-archive-journal :is(.timeline, .journal-timeline) .media {
    aspect-ratio: auto;           /* grow naturally on narrow screens */
  }
  .post-type-archive-journal :is(.timeline, .journal-timeline) .media img:not([src$=".svg"]) {
    position: static;             /* allow natural flow */
    width: 100%;
    height: auto;
  }
}
